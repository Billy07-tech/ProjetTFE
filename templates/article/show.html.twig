{% extends 'base.html.twig' %}

{% block title %}Article
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/article-show.css') }}">
{% endblock %}

{% block body %}
	<div class="page--article">
		<div class="article-card">
			<h2 class="article-title">{{ article.titre }}</h2>

			<div class="article-meta">
				✍️ Auteur :
				{{ article.auteur.pseudo }}
				| 🗓️
				{{ article.date ? article.date|date('d/m/Y H:i') : 'Non défini' }}
			</div>

			{# 👉 Image de l’article #}
			{% set img = vich_uploader_asset(article, 'imageFile') %}
			{% if img %}
				<div class="article-image">
					<img src="{{ img }}" alt="{{ article.titre }}">
				</div>
			{% endif %}

			<div class="article-content">
				{{ article.contenu|raw }}
			</div>

			<div class="actions">
				<a href="{{ path('app_article_index') }}" class="btn btn--secondary">⬅ Retour</a>
				{% if is_granted('ROLE_ADMIN') %}
					<a href="{{ path('app_article_edit', {'id': article.id}) }}" class="btn btn--primary">✏️ Modifier</a>
					<span class="btn-delete">{{ include('article/_delete_form.html.twig') }}</span>
				{% endif %}
			</div>
		</div>
	</div>
{% endblock %}
