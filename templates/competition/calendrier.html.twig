{% extends 'base.html.twig' %}

{% block title %}Calendrier des compétitions
{% endblock %}

{% block body %}
	<h1>Calendrier des compétitions</h1>
	<div id="calendar"></div>

	<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js"></script>
    
	{% if is_granted('ROLE_ADMIN') %}
		<a href="{{ path('competition_new') }}" class="btn btn-primary mb-3">
			➕ Créer une compétition
		</a>
	{% endif %}


	<script>
		document.addEventListener('DOMContentLoaded', function () {
var calendarEl = document.getElementById('calendar');
var calendar = new FullCalendar.Calendar(calendarEl, {
initialView: 'dayGridMonth',
locale: 'fr',
events: '{{ path("competition_api") }}'
});
calendar.render();
});
	</script>
{% endblock %}
